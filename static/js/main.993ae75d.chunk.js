(window.webpackJsonpconnect4=window.webpackJsonpconnect4||[]).push([[0],{14:function(e,n,t){e.exports=t(25)},19:function(e,n,t){},25:function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),i=t(9),a=t.n(i),c=(t(19),t(1)),l=t(7),u=function(e){var n=Object(o.useState)(e),t=Object(c.a)(n,2),r=t[0],i=t[1],a=Object(o.useState)(-2),u=Object(c.a)(a,2),s=u[0],d=u[1];return[r,function(e){var n=JSON.parse(JSON.stringify(r));i([].concat(Object(l.a)(n),[e])),d(s+1),console.log("set history",[].concat(Object(l.a)(n),[e]).slice(0,-1))},{history:r,index:s,setIndex:d}]},s=Object(o.createContext)(),d=function(e){for(var n=[],t=5;t>=0;t-=1)for(var i=0;i<7;i+=1)n.push([i,t,"white"]);var a=u([]),l=Object(c.a)(a,3),d=l[0],h=l[1],f=l[2],p=f.history,m=f.index,g=f.setIndex,b=Object(o.useState)([]),w=Object(c.a)(b,2),x=w[0],v=w[1],y=Object(o.useState)(!0),O=Object(c.a)(y,2),j=O[0],E=O[1],k=Object(o.useState)(!1),S=Object(c.a)(k,2),R=S[0],N=S[1],I=Object(o.useState)(""),B=Object(c.a)(I,2),G=B[0],W=B[1],C=function(e){var n=e.filter(function(e){return"red"===e[2]}),t=e.filter(function(e){return"yellow"===e[2]});n.length>t.length?E(!1):E(!0)},J=function(e){W(e),N(!0)},H=function(e,n,t,o){return"white"!==e&&e===n&&e===t&&e===o},A={board:n,boardResult:x,setBoardResult:v,isRedsNext:j,setIsRedsNext:E,checkWhoNext:C,playAgain:function(){window.localStorage.clear(),window.location.reload()},checkIfWin:function(e){var n,t;for(n=0;n<3;n++)for(t=0;t<7;t++)H(e[n][t],e[n+1][t],e[n+2][t],e[n+3][t])&&J(e[n][t]);for(n=0;n<6;n++)for(t=0;t<4;t++)H(e[n][t],e[n][t+1],e[n][t+2],e[n][t+3])&&J(e[n][t]);for(n=0;n<3;n++)for(t=0;t<4;t++)H(e[n][t],e[n+1][t+1],e[n+2][t+2],e[n+3][t+3])&&J(e[n][t]);for(n=3;n<6;n++)for(t=0;t<4;t++)H(e[n][t],e[n-1][t+1],e[n-2][t+2],e[n-3][t+3])&&J(e[n][t])},stopGame:R,setStopGame:N,winner:G,boardHistory:d,setBoardHistory:h,undo:function(){m>0?(g(m-1),console.log("show undo result",p[m-1]),v(p[m-1]),C(p[m-1]),console.log("show undo index",m-1)):(v(n),E(!0),g(-1),console.log("undo, index reset to -1",-1))},redo:function(){m+1<p.length-1&&(g(m+1),v(p[m+1]),C(p[m+1]),console.log("show redo result",p[m+1]),console.log("show redo index",m+1))},index:m,history:p};return r.a.createElement(s.Provider,Object.assign({value:A},e))},h=t(2),f=t(3);function p(){var e=Object(h.a)(["\n  background: ",";\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 26px;\n\n  @media (min-width: 769px) {\n    width: 100px;\n    height: 100px;\n  }\n\n  @media (max-width: 768px) {\n    width: 70px;\n    height: 70px;\n  }\n"]);return p=function(){return e},e}function m(){var e=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: blue;\n\n  @media (min-width: 769px) {\n    width: 146px;\n    height: 120px;\n  }\n\n  @media (max-width: 768px) {\n    width: 95px;\n    height: 95px;\n  }\n"]);return m=function(){return e},e}function g(){var e=Object(h.a)(["\n  display: inline-block;\n"]);return g=function(){return e},e}var b=f.a.div(g()),w=f.a.div(m()),x=f.a.div(p(),function(e){return e.color}),v=function(e){var n=e.eachGrid,t=Object(o.useContext)(s),i=t.boardResult,a=t.setBoardResult,c=t.isRedsNext,l=t.setIsRedsNext,u=t.checkIfWin,d=t.winner,h=t.index,f=t.stopGame,p=t.setBoardHistory,m=t.history;return r.a.createElement(b,null,r.a.createElement(w,{onClick:function(){return function(){if(f)f&&alert("Winner is ".concat(d));else{var e=i.filter(function(e){return e[0]===n[0]}).sort(function(e,n){return e[1]-n[1]});if(e.filter(function(e){return 5===e[1]&&"white"===e[2]}).length>0){e.find(function(e){return"white"===e[2]})[2]=c?"red":"yellow",m.length>h+2&&(m.splice(h+1),console.log("current index ",h),console.log("history.length if remove",m.splice(h+1).length));!function(){var e=new Audio("http://www.chiptape.com/chiptape/sounds/medium/drop.wav");console.log("sound",e);var n=e.play();void 0!==n&&n.then(function(){console.log("audio played auto")}).catch(function(){console.log("playback prevented")})}(),a(i),p(i),l(!c),console.log("result history.length",m.length+1),localStorage.setItem("Game result",JSON.stringify(i));for(var t=[],o=0;o<i.length;o+=7)t.push(i.map(function(e){return e[2]}).slice(o,o+7));u(t)}}}()},eachGrid:n},r.a.createElement(x,{color:n[2]}," ".concat(n[0],", ").concat(n[1]," "))))};function y(){var e=Object(h.a)(["\n  &:hover {\n    cursor: pointer;\n  }\n\n  @media (min-width: 769px) {\n    margin-top: 150px;\n    width: 1024px;\n  }\n\n  @media (max-width: 768px) {\n    margin-top: 50px;\n    width: 700px;\n  }\n"]);return y=function(){return e},e}var O=f.a.div(y()),j=function(){var e=Object(o.useContext)(s),n=e.board,t=e.boardResult,i=e.setBoardResult,a=e.isRedsNext,c=e.checkWhoNext,l=e.playAgain,u=e.winner,d=e.undo,h=e.redo,f=e.index,p=e.history,m=e.boardHistory,g=e.setBoardHistory;return Object(o.useEffect)(function(){var e=JSON.parse(localStorage.getItem("Game result"));i(e||n),g(e||n),console.log("render",m),e&&c(e)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"The first player to connect four of their discs ",r.a.createElement("br",null),"horizontally, vertically, or diagonally wins the game."),r.a.createElement("button",{type:"button",onClick:function(){return l()}},"Restart the game"),""===u?r.a.createElement("div",null," Next Player: ",a?"Red":"Yellow"):r.a.createElement("div",null,"Winner is ".concat(u)),r.a.createElement("button",{type:"button",onClick:d,disabled:f<0},"undo"),r.a.createElement("button",{type:"button",onClick:h,disabled:f>p.length-3},"redo"),r.a.createElement(O,null,t.map(function(e){return r.a.createElement(v,{key:e,eachGrid:e})})))},E=function(){return r.a.createElement(d,null,r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.993ae75d.chunk.js.map